# ----------------------------------------------------------------------------------------------------------------------
# Sets constants
# ----------------------------------------------------------------------------------------------------------------------

source simbench/paths.tcl

# ----------------------------------------------------------------------------------------------------------------------
# Create work library
# ----------------------------------------------------------------------------------------------------------------------

vlib work

# ----------------------------------------------------------------------------------------------------------------------
# Compile sources
# ----------------------------------------------------------------------------------------------------------------------

vlog ${PATH2GLBL}

vlog ${PATH2SRC}test_module.sv
vlog ${PATH2TB}test_module_tb.v

# ----------------------------------------------------------------------------------------------------------------------
# Call vsim to invoke simulator
# ----------------------------------------------------------------------------------------------------------------------

vsim -voptargs="+acc" -t 1ps -lib work work.test_module_tb work.glbl

# ----------------------------------------------------------------------------------------------------------------------
# Launch window manager and set full size window
# ----------------------------------------------------------------------------------------------------------------------

wm state . zoomed

# ----------------------------------------------------------------------------------------------------------------------
# Set the window types
# ----------------------------------------------------------------------------------------------------------------------

do {test_module_tb.udo}

# ----------------------------------------------------------------------------------------------------------------------
# Source the wave do file
# ----------------------------------------------------------------------------------------------------------------------

do {test_module_tb_wave.fdo}

# ----------------------------------------------------------------------------------------------------------------------
# Run simulation for this time
# ----------------------------------------------------------------------------------------------------------------------

run 1 us

# ----------------------------------------------------------------------------------------------------------------------
# Sets other settings
# ----------------------------------------------------------------------------------------------------------------------

wave zoom full

